

로그를 새로 시작합니다.

기존 로그는 로그3으로 이동되었습니다.


플레이어 하나에 대한 조작은 대충 완성되었습니다. (선 자세의 조준 한정)
(앉은 자세, 추락 자세 등 미구현)

다음으로 할 일은 지형 추가, 적 추가, 래펠링 기능 추가입니다.

적들은 플레이어어의 부분마다 이어진 선들을 가지고 있습니다.
이 선 중에 지형과 충돌하는 것 없이 이어지는 선이 있고,
그 선의 길이가 짧다면 발각 게이지를 거리에 따라 점차 채웁니다.
게이지는 가까울수록 빠르게 차며, 처음엔 경계로, 이후엔 적대 상태로 넘어갑니다.
어둠 또한 시야 판정에선 일종의 지형처럼 작용합니다.

적대 상태는 플레이어의 위치를 확실히 확인한 상태며,
최근 확인된 위치가 붉은 원으로 표시됩니다.
적대 상태인 적은 시간이 지나면 무전으로 최근 확인 위치를 알리며,
최악의 경우엔 사이렌을 울려 건물 내 모든 적을 적대 상태로 만들 수 있습니다.
만약 해당 지역에 충분한 인원이 갔다고 판단할 경우 더는 가지 않고, 주변을 뒤지기 시작합니다.

소리는 위치 추적의 판단 근거가 됩니다.
플레이어가 내는 소리는 크기에 따라 원형으로 표시됩니다.
소음을 내는 요소는 주로 총성, 달리는 소리, 유리창 깨지는 소리 등이 있습니다.
걷거나 앉아서 가는 것은 별로 소리를 내지 않습니다.


캐릭터라는 개념을 생성했습니다.

이제 이걸로 플레이어와 NPC를 모두 만들 수 있습니다.

현재 기초적인 플레이어를 만들어둔 상태입니다.

다음엔 좀 더 기초적인 지형과 순회하는 NPC를 만들어야 합니다.


NPC를 추가했습니다.

다만 플레이어를 추격할 때 팔과 골반 사이에 있으면 팔이 돌아간다는 문제가 있습니다.

이는 팔 자체가 약간 앞에 나가 있기 때문에 생기는 근본적인 문제입니다.

하지만 이 사실 자체를 고칠 수는 없습니다. 부자연스러워지기 때문입니다.

따라서 그보다는 근접 공격을 추가하는 것이 좋아 보입니다.

근접 공격은 적에게 개머리판을 휘두르며, 적중 시 스턴 상태에 빠뜨립니다.

이는 누구나 사용할 수 있으며 근거리에서 공격을 시도하면 근접 공격을 시도합니다.

플레이어가 뒤에서 몰래 칠 경우 목 뒤를 강하게 후려쳐 기절 상태에 빠뜨립니다.


슬슬 FSM을 좀 더 체계화할 필요가 있어 보입니다.

이를 위해선 모션을 추가적으로 만들고 여러 코드를 변경해야 합니다.


캐릭터 코드가 너무 복잡합니다.

체계를 잡을 필요가 있습니다.